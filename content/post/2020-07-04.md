---
title: 2020.7.4
author: ~
date: '2020-07-04'
slug: dairy
categories: []
tags: [trading, 月常记事]
---

大家好!

又一个月过去了... 不知不觉又过了半年, 这半年真的是多灾多难...

今天7.4号, 我英国时间7.5号早上10点的飞机回上海. 预计这可能是我最麻烦的一次回国了吧, 订了凌晨3点多的车开到机场...

先不说这些了, 这一次主要是想分享一下自己在二级市场摸爬滚打这几年总结的一些小经验. 当然详细的我就不提了, 涉及企业机密, 哈(...

先从我做二级市场的一个整体回顾开始...

我做Trading是从2014年开始, 大家不知道还记不记得当年的爆牛和爆熊. 2014年下半年是中国A股走的非常好的一年吧, 到了2015年峰值达到了6000多点. 在当时大家都"一万点! 一万点!"的在那叫我还记忆犹新. 我正是那时候开始头一回了解了股市. 当时正好是个上升期, 怎么做怎么盈利... 说真的是赚了不少... 而我正好在变成熊市的那一段时间没有去执行任何操作, 而在2015年下半年的3400点到3800点小反弹区间我又买入了一波, 于是又盈利了... 

一个好的开始永远是很重要的, 这会给任何人一个信心, 认为自己是可行的. 2015年我正好大学本科刚毕业, 正好给了我极强的动力去找trader相关的职业. 许多人都会在找寻自己的人生目标而迷茫着, 而我正好在那时结束了我的迷茫. 于是我找了一家很小的trader的公司. 在里面我接触了新的交易类型, 外汇期货. 一开始外汇期货给人的印象永远是低波动, 没意思, 只够赚点零花钱的概念. 但实际接触后才发现**<font color=green size= 6><u>根本不是这样</u></font>**... 大多数外汇交易平台下都有做空机制, 而且非常简单易懂... 说简单点, 做惯了股票, 只能做多的我当时一直觉得能做空, 而且和做多一样简单操作的做空, 是非常好的一件事. "这不等于盈利直接翻倍吗!"我这样想着, 于是就投入了实践...

一下子就到了2017年... 马上就发现了做空是个双刃剑... 等于把原有风险平方化, 的确如果完全有研究有方法, 是能够扩大盈利, 不然说实话是不可能不亏损的. 

说了那么多废话, 我们来正式吃瓜...

首先我们的交易平台主要是metatrader, 现在有metatrader 4和metatrader 5两个版本, 看不同的外汇期货券商提供给我们的是什么, 有些券商两种都有. 软件长的样子如图: <img src="https://files.catbox.moe/ljmgrp.png" alt="Aaron Swartz" style="zoom:15%;" />

一打开来差不多就是这样... 同时, 该平台还支持写入脚本来执行或者生成更多个性化的操作, 语言是叫MQL4, 类C++语言... 编译器如下图: <img src="https://files.catbox.moe/arx5rp.png" alt="Aaron Swartz" style="zoom:25%;" />

写好代码并且测试好之后, 点击"自动交易"按钮, 就可以run code, 不仅可以实现脚本根据规则自动交易, 也可以实现一些其他可视化或者功能性的东西. 由于是软件自带的编译器, 所以执行速度比用API在python里运行更快. 

那么上面那个软件打开来的, 是GBPUSD的1小时周期的裸图, 实际上我个人打开来的话是如下图:<img src="https://files.catbox.moe/8niz9z.png" alt="Aaron Swartz" style="zoom:20%;" />

我加入了很多我用到的指标(以及我以前会用现在不怎么用了的...) 那么我就稍微说一下我用的各种指标. 其实基本上我用的都是系统自带的指标, 只是我自己调整了各种参数而已. 

1. Bolling Band(20): <img src="https://files.catbox.moe/j94qxm.png" alt="Aaron Swartz" style="zoom:50%;" />

   这3根箭头指向的土黄色的线都是bolling band, 系统默认周期参数是20. 我也没有调整, 直接就是系统默认的来用了. 这3根分别是20周期均线, 以及20周期的正负标准差. 一般用法可以用来观测价格是否过高或过低. 这是个很有名而且很好用的一个指标, 经常用的话可以用出一些个人的用法出来.

2. MA(5, 10, 14, 200):<img src="https://files.catbox.moe/kgar9o.png" alt="Aaron Swartz" style="zoom:50%;" />

   箭头指向的白色线, 黄色线, 蓝色线, 还有最底下一根很细的绿色线, 分别是MA5, 10, 14, 200... MA, moving average, 也是用来预测价格走势的, 它预测的是不同周期下价格的一个平均值分部情况... 一般用法就是, 当价格在周期结束时超过了MA的值, 则看涨, 跌破则看空... 我个人对MA其实已经依赖度非常低了, 只是挂着好看而已..........

3. Ichikumo Kinko Hyo(9, 26, 52):<img src="https://files.catbox.moe/l2n7c5.png" alt="Aaron Swartz" style="zoom:50%;" />

   简称"云"的一个指标, 一看名字就知道是日本人搞出来的. 参数也是默认的参数. 这个指标的红色区域是"涨云", 灰色区域是"跌云", 亮蓝色的那根线是叫做基准线的一个东西, 一听名字就大概知道是个什么东西了... 这个指标的云实际上还是很有意思的一个东西, 这个云带有一定的类似引力的作用... 比如当价格现在处于看涨云的下方, 那很可能价格之后会出现反弹, 反之亦然... 当价格在周期结束时超过基准线, 也可能是触发反弹的信号...

4. RSI, Stochastic(KD), ADX:<img src="https://files.catbox.moe/lguk5u.png" alt="QQ截图20200704153138" style="zoom: 50%;" />

   这三个指标是我额外观测的窗口, 我经常会用到... RSI全称Related Strength Index, 也就是相关力度指标, 它可以显示当前价格是不是过高或者过低, 通过量化上涨力度还剩余多少的形式来体现... 比如当RSI超过80, 一般会认为价格已经很高了, 这时候追仓买入是很危险的事情. 当然我也经常看到过它过了80后反而涨的越来越多了... 所以到底怎么用以及到底怎么设置参数是一门学问... 默认参数是14, 我改成了20...

   Stochastic, 随机指标, 国内叫做KD或者KDJ... 其实这个名词在统计学上并不陌生, 有专门的课, 是很难做的一个指标. 一般用法就是两线交叉之际是看多或者看空的时候... 实际上到底怎么用还需要大家自己摸索...

   ADX, 这个指标我一度用的还不错, 用来剥头皮其实是个很不错的指标... 实际上现在我也不怎么用了.

好了, 我用的指标就这些... 现在来讲一下实际上在操作的时候, 一般我是怎么来执行操作的... 或者说怎么去做出一个策略模型的.

二级市场被人说了那么多, 宏观实际上就两件事: 什么时候入场什么时候出场. 两个事情都非常重要, 但如果硬要说的话, 我觉得入场是个开始, 是更为重要一些. 微观上也是两件事: 盈利或者亏损. 因此我们做任何品种, **<font color=green size= 6><u>我们的目的是: 入场能保证最后不亏, 尽量能够盈利</u></font>**. 只要实现这个目标, 那我们无论如何就都是市场的赢家了. 由于我个人还开着500倍杠杆在执行操作, 因此这个目的是无论如何都要达到的. 

那么问题就是我们如何看出一个入场点, 并且在入场后看出该继续盈利还是该保证不亏了. 我这个月正好看了一个视频, 是讲一个叫做Pinbar的策略, 什么是Pinbar呢? 如图:<img src="https://files.catbox.moe/u4q8pl.png" alt="QQ截图20200704154636" style="zoom:67%;" />

这就是Pinbar... 而且是一个看跌Pinbar... 视频里的解释就是说: 当出现Pinbar, 且如果出现看涨Pinbar的时候, 之前的趋势是跌, 那就可以看涨, 换句话说Pinbar是一个反转的入场信号. 总结下来就是"影线比实体多3倍, 且之前的趋势和Pinbar指向相反", 这样就可以执行入场了... 这是视频跟我说的... 我其实本来压根不去看什么Pinbar的东西... 那么我们知道了这个入场原理, 我们必须马上开启杠精模式, 去找和他说的不符合的点. 那么我马上就找出来了: <img src="https://files.catbox.moe/v97xwg.png" alt="QQ截图20200704155208" style="zoom:50%;" />

在这个箭头所指的Pinbar里, 他就只跌了那么一丢丢就马上大幅度涨上去了... 如果我们有些人做空在里面, 很可能最后会爆仓. 而且这个Pinbar是非常符合视频里说的特征: "影线长, 前面是涨的大趋势". 

但人家做视频的也不是傻子, 肯定是有办法依靠Pinbar的方法来入场并稳定盈利的, 就以上面这张图为例, 如果我们只做Pinbar后一周期马上就平仓, 我们就肯定盈利了. 或者是Pinbar还有其他特殊条件, 视频作者不打算告诉我们所以用一句话"还需要根据其他指标来进行观测"就带过了... 

所以Pinbar这个东西本身就是模型的一种, 当我们仔细研究了Pinbar后, 可能就会生成一种非常固定的盈利模式. 而我们要做的就是重复的去找出其他的策略模型, 来增加入场的机会.

所以我们要做的首先是去研究, 找出一种方法能够得到过去历史数据的检测并合格通过的, 然后我们只需要根据研究出的规则来进行入场即可. 

那么聪明的你马上就会问**<font color=green size= 6><u>"那么我们直接用现在时下流行的machine learning或者其他data mining的方法来找出策略不就可以了吗, 人为去找岂不是很蠢?"</u></font>** 那么我是觉得, 只要能实现我们刚才说的目标, 无论用什么方法其实都是大同小异. Machine Learning的确是很好, 但是有过统计数据, 通过机器建模, 无论用什么样的方法建模, 最高的R^2值仅为40... 换句话说60%都是预测出错了的... 这是为什么呢? 因为二级市场的价格中, pattern实在是太多了, 即使一个模型对历史数据回测后达到了很好的效果, 它很可能也是一个overfit的模型. 指的是对应新的数据的能力会非常弱. 更根本的理论是, 二级市场是一个由几亿几十亿人组成的市场, 价格的任何波动都可以看作人对于一个事件一个商品的心态的波动... 换句话说是一个混沌系统... 我们现在的deep learning只能应对秩序系统的预测与学习, 对于混沌系统, 对于人心到底是怎么想的, 根本无从预测, pattern太多也就等于没有pattern. 

人为去找出pattern的话, 则会把无数种pattern聚焦在自己发现的几种上面, 避免了overfit的问题. **<font color=green size= 6><u>而我们做出的策略模型, 它肯定是不能应对一切品种的.</u></font>** 比如在黄金上发现的策略模型, 你如果直接去套用在比特币或者大豆之类的产品上, 肯定会死的很惨... **<font color=green size= 6><u>因此如果我们想同时做好几种品种的话, 我们就必须把策略模型写成代码, 然后去对不同的品种进行backtest.</u></font>** 然后我们就可以舒舒服服躺在床上, 让机器自动去跑代码啦!(当然我自己都没做到就是了...

在很多hedge fund的量化交易组里, 建模建得如何是一个非常重要的点. 不同的人, 就算掌握相同的理论, 实现出来的结果会有非常大的差异. 所以一个建模大师, 可能真的是可以用一套模型走天下的.

总结一下: 首先我们要达到我们的目的"保证不亏的情况下多盈利", 然后我们要找出若干种策略/模型, 来实现我们的目的, 必须是非常稳定的一种套路. 只要我们做到这点, 就能够稳定盈利了. 

在Hedge Fund里, 其实他们只是把模型做出来后, 将其应用于所有的股票或者其他品种, 来找出所有适用于模型的股票. 然后他们还需要做的一步是, 要决定买入不同股票的比例, 以及自动决定每个股票的买入卖出的比例. 因此在这一方面会有更多要做的工作去搞.

虽然我们说machine learning或者data mining不是完全好用, 但也不是不能用. 事实上我现在之所以学习data science, 就是为了看看能不能学会后突破现有瓶颈. 我觉得还是要相信这些前瞻技术, 以后肯定会有所发展的.

以上我们提到的方式都叫做量化交易. 那么难道基本面交易就要被淘汰了吗? 当然不是! 基本面交易才是最强的. 因为基本面交易是直接能看懂人心变化的根本, 真的会做基本面交易的人, 根本不需要去做量化交易, 而且实际上盈利量往往更大. 量化交易的优势是它是用固定的套路来进行预测市场, 一劳永逸, 但实际上它的盈利量, 以及应对市场的变化的能力, 在理论上是完全不如基本面交易策略的.

如果真的想要研究二级市场真的是内容太多, 基本面和量化结合的交易也有很多, 我个人能力有限, 基本面交易还不太适合我. 但说到底还是那点事: 入场和出场, 盈利或亏损. 我们只要进去后盈利就行了. 在Trader眼里, 一个百猜百中的卖菜老太, 绝对比一个做亏了的高材博士生要更有地位. 一切以成绩说话是这行业的标准. 所以各位加油吧!

最后献上上个月我找画师约稿的图, 约的是个类德国二战军装的军服小姐姐喝下午茶~ 其实我更希望是个超长发的小姐姐呐~

![Aaron Swartz](https://files.catbox.moe/fiqlq7.jpg)